{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  style: {\n    \"height\": \"1000px\",\n    \"width\": \"1300px\"\n  }\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_l_tile_layer = _resolveComponent(\"l-tile-layer\");\n  const _component_l_icon = _resolveComponent(\"l-icon\");\n  const _component_l_popup = _resolveComponent(\"l-popup\");\n  const _component_l_tooltip = _resolveComponent(\"l-tooltip\");\n  const _component_l_marker = _resolveComponent(\"l-marker\");\n  const _component_l_map = _resolveComponent(\"l-map\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_l_map, {\n    ref: \"map\",\n    zoom: $data.zoom,\n    center: $data.center,\n    maxZoom: \"7\",\n    minZoom: \"4\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_l_tile_layer, {\n      url: \"https://tile.thunderforest.com/transport-dark/{z}/{x}/{y}.png?apikey=9b2313ed32304004a51c1494aedf88db\",\n      \"layer-type\": \"base\",\n      name: \"OpenStreetMap\"\n    }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.dests, (dest, index) => {\n      return _openBlock(), _createBlock(_component_l_marker, {\n        key: index,\n        \"lat-lng\": $options.latLng(dest.latitude, dest.longitude)\n      }, {\n        default: _withCtx(() => [_createVNode(_component_l_icon, {\n          \"icon-size\": $data.iconSize,\n          \"icon-url\": $data.icon\n        }, null, 8 /* PROPS */, [\"icon-size\", \"icon-url\"]), _createVNode(_component_l_popup, null, {\n          default: _withCtx(() => [_createTextVNode(\" You have selected \" + _toDisplayString(dest.name) + \"'s airport \", 1 /* TEXT */), _hoisted_2, _createTextVNode(\" Price: \" + _toDisplayString($options.getPrice('DTW')), 1 /* TEXT */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_l_tooltip, null, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(dest.name) + \", \" + _toDisplayString(dest.countryName), 1 /* TEXT */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)]),\n\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"lat-lng\"]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"zoom\", \"center\"])]);\n}","map":{"version":3,"mappings":";;EACOA,KAAmC,EAAnC;IAAA;IAAA;EAAA;AAAmC;gCAQoBC,oBAAI;;;;;;;;;uBARhEC,oBAkBM,OAlBNC,UAkBM,GAhBJC,aAeQC;IAfDC,GAAG,EAAC,KAAK;IAAEC,IAAI,EAAEC,UAAI;IAAGC,MAAM,EAAED,YAAM;IAAEE,OAAO,EAAC,GAAG;IAACC,OAAO,EAAC;;sBACjE,MAEwD,CAFxDP,aAEwDQ;MADtDC,GAAG,EAAC,uGAAuG;MAC3G,YAAU,EAAC,MAAM;MAACC,IAAI,EAAC;2BACzBZ,oBAQWa,6BARoCC,YAAK,GAArBC,IAAI,EAAEC,KAAK;2BAA1CC,aAQWC;QARAC,GAAG,EAAEH,KAAK;QAAkC,SAAO,EAAEI,eAAM,CAACL,IAAI,CAACM,QAAQ,EAAEN,IAAI,CAACO,SAAS;;0BAClG,MAAwD,CAAxDpB,aAAwDqB;UAA/C,WAAS,EAAEjB,cAAQ;UAAG,UAAQ,EAAEA;4DACzCJ,aAGUsB;4BAHD,MAAmB,kBAAnB,qBAAmB,oBAAGT,IAAI,CAACH,IAAI,IAAG,aAAW,2BAAI,6BAEjD,oBAAGQ,iBAAQ;;;sCAEpBlB,aACqDuB;4BAAnD,MAAe,mCAAZV,IAAI,CAACH,IAAI,IAAG,IAAE,oBAAGG,IAAI,CAACW,WAAW","names":["style","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_l_map","ref","zoom","$data","center","maxZoom","minZoom","_component_l_tile_layer","url","name","_Fragment","$props","dest","index","_createBlock","_component_l_marker","key","$options","latitude","longitude","_component_l_icon","_component_l_popup","_component_l_tooltip","countryName"],"sourceRoot":"","sources":["/Users/lucasion/Desktop/Capstone/WestJet-RouteMap/wjroutemap/src/components/DestMap.vue"],"sourcesContent":["<template>\n  <div style=\"height:1000px; width:1300px\">\n\n    <l-map ref=\"map\" :zoom=\"zoom\" :center=\"center\" maxZoom=\"7\" minZoom=\"4\">\n      <l-tile-layer\n        url=\"https://tile.thunderforest.com/transport-dark/{z}/{x}/{y}.png?apikey=9b2313ed32304004a51c1494aedf88db\"\n        layer-type=\"base\" name=\"OpenStreetMap\"></l-tile-layer>\n      <l-marker :key=\"index\" v-for=\"(dest, index) in dests\" :lat-lng=\"latLng(dest.latitude, dest.longitude)\">\n        <l-icon :icon-size=\"iconSize\" :icon-url=\"icon\"></l-icon>\n        <l-popup> You have selected {{ dest.name }}'s airport <br>\n\n          Price: {{ getPrice('DTW') }}\n        </l-popup>\n        <l-tooltip>\n          {{ dest.name }}, {{ dest.countryName }}</l-tooltip>\n      </l-marker>\n\n\n    </l-map>\n  </div>\n</template>\n  \n<script>\nimport \"leaflet/dist/leaflet.css\";\nimport {\n  LMap,\n  LTileLayer,\n  LMarker,\n  LIcon,\n  LTooltip,\n  LPopup,\n} from \"@vue-leaflet/vue-leaflet\";\nimport westjet from '../assets/westjet.png'\nexport default {\n  name: 'DestMap',\n  props: {\n    dests: Array\n  },\n  components: {\n    LMap,\n    LTileLayer,\n    LMarker,\n    LIcon,\n    LPopup,\n    LTooltip,\n  },\n  data() {\n    return {\n      url: 'https://tile.thunderforest.com/atlas/{z}/{x}/{y}.png?apikey=9b2313ed32304004a51c1494aedf88db',\n      attribution: '&copy; <a target=\"_blank\" href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n      zoom: 4,\n      center: [47.313220, -1.319482], //default\n      markerLatLngBob: [47.313220, -17.319482],\n      icon: westjet,\n      iconSize: [40, 25],\n    };\n  },\n  methods: {\n    latLng: function (lat, lng) {\n\n      return [lat, lng]\n    },\n    getLocation: function () {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition((position) => {\n          var latitude = position.coords.latitude;\n          var longitude = position.coords.longitude;\n          this.center = [latitude, longitude]\n        });\n      }\n    },\n    getPrice: async function (destination) {\n      const axios = require('axios');\n\n      const params = new URLSearchParams();\n      params.append('o', 'YYC');\n      console.log(destination)\n      params.append('d', destination);\n      params.append('sourceCountryCode', 'CA');\n      params.append('rangeStartOffset', '30');\n      params.append('rangeEndOffset', '60');\n      params.append('iwe', '1');\n      params.append('iwe', '2');\n      params.append('iwe', '3');\n      params.append('iwe', '4');\n      params.append('iwe', '5');\n\n      const response = await axios.get('https://api.westjet.com/price-points/v1/retail', {\n        params: params,\n        headers: {\n          'accept': 'application/json'\n        }\n      })\n        \n\n      // const displayPrice = async () => {\n      //   const a = await price;\n      //   console.log(a);\n      // };\n\n      // displayPrice()\n      console.log(response)\n\n      \n    },\n  },\n  mounted() {\n    this.getLocation()\n\n  },\n};\n</script>\n  \n<style>\n.leaflet-container {\n  border-radius: 25px;\n}\n</style>\n\n    \n    "]},"metadata":{},"sourceType":"module","externalDependencies":[]}