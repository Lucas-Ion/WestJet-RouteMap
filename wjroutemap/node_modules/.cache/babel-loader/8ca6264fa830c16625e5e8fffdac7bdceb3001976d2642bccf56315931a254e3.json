{"ast":null,"code":"import \"leaflet/dist/leaflet.css\";\nimport { LMap, LTileLayer, LMarker, LIcon, LTooltip, LPopup } from \"@vue-leaflet/vue-leaflet\";\nimport westjet from '../assets/westjet.png';\nimport { response } from \"express\";\nexport default {\n  name: 'DestMap',\n  props: {\n    dests: Array\n  },\n  components: {\n    LMap,\n    LTileLayer,\n    LMarker,\n    LIcon,\n    LPopup,\n    LTooltip\n  },\n  data() {\n    return {\n      url: 'https://tile.thunderforest.com/atlas/{z}/{x}/{y}.png?apikey=9b2313ed32304004a51c1494aedf88db',\n      attribution: '&copy; <a target=\"_blank\" href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n      zoom: 4,\n      center: [47.313220, -1.319482],\n      //default\n      markerLatLngBob: [47.313220, -17.319482],\n      icon: westjet,\n      iconSize: [40, 25]\n    };\n  },\n  methods: {\n    latLng: function (lat, lng) {\n      return [lat, lng];\n    },\n    getLocation: function () {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(position => {\n          var latitude = position.coords.latitude;\n          var longitude = position.coords.longitude;\n          this.center = [latitude, longitude];\n        });\n      }\n    },\n    getPrice: async function (destination) {\n      let accesscode = \"YYC\" + destination;\n      let price_value = \"Unavailable\";\n      console.log(accesscode);\n      const axios = require('axios');\n      const params = new URLSearchParams();\n      params.append('o', 'YYC');\n      console.log(destination);\n      params.append('d', destination);\n      params.append('sourceCountryCode', 'CA');\n      params.append('rangeStartOffset', '30');\n      params.append('rangeEndOffset', '60');\n      params.append('iwe', '1');\n      params.append('iwe', '2');\n      params.append('iwe', '3');\n      params.append('iwe', '4');\n      params.append('iwe', '5');\n      const response = await axios.get('https://api.westjet.com/price-points/v1/retail', {\n        params: params,\n        headers: {\n          'accept': 'application/json'\n        }\n      }).then(response => console.log(response));\n\n      // console.log(price_value)\n      // let price_value = response.data[accesscode][0].price\n      // console.log(price_value)\n      // return price_value\n    }\n  },\n\n  mounted() {\n    this.getLocation();\n  }\n};","map":{"version":3,"mappings":"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","names":["LMap","LTileLayer","LMarker","LIcon","LTooltip","LPopup","westjet","response","name","props","dests","Array","components","data","url","attribution","zoom","center","markerLatLngBob","icon","iconSize","methods","latLng","lat","lng","getLocation","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","getPrice","destination","accesscode","price_value","console","log","axios","require","params","URLSearchParams","append","get","headers","then","mounted"],"sourceRoot":"","sources":["/Users/lucasion/Desktop/Capstone/WestJet-RouteMap/wjroutemap/src/components/DestMap.vue"],"sourcesContent":["<template>\n  <div style=\"height:1000px; width:1300px\">\n\n    <l-map ref=\"map\" :zoom=\"zoom\" :center=\"center\" maxZoom=\"7\" minZoom=\"4\">\n      <l-tile-layer\n        url=\"https://tile.thunderforest.com/transport-dark/{z}/{x}/{y}.png?apikey=9b2313ed32304004a51c1494aedf88db\"\n        layer-type=\"base\" name=\"OpenStreetMap\"></l-tile-layer>\n      <l-marker :key=\"index\" v-for=\"(dest, index) in dests\" :lat-lng=\"latLng(dest.latitude, dest.longitude)\">\n        <l-icon :icon-size=\"iconSize\" :icon-url=\"icon\"></l-icon>\n        <l-popup> You have selected {{ dest.name }}'s airport <br>\n          \n          Price: {{ getPrice(dest.code) }}\n        </l-popup>\n        <l-tooltip>\n          {{ dest.name }}, {{ dest.countryName }}, {{getPrice(dest.code)}}</l-tooltip>\n      </l-marker>\n\n\n    </l-map>\n  </div>\n</template>\n  \n<script>\nimport \"leaflet/dist/leaflet.css\";\nimport {\n  LMap,\n  LTileLayer,\n  LMarker,\n  LIcon,\n  LTooltip,\n  LPopup,\n} from \"@vue-leaflet/vue-leaflet\";\nimport westjet from '../assets/westjet.png'\nimport { response } from \"express\";\nexport default {\n  name: 'DestMap',\n  props: {\n    dests: Array\n  },\n  components: {\n    LMap,\n    LTileLayer,\n    LMarker,\n    LIcon,\n    LPopup,\n    LTooltip,\n  },\n  data() {\n    return {\n      url: 'https://tile.thunderforest.com/atlas/{z}/{x}/{y}.png?apikey=9b2313ed32304004a51c1494aedf88db',\n      attribution: '&copy; <a target=\"_blank\" href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n      zoom: 4,\n      center: [47.313220, -1.319482], //default\n      markerLatLngBob: [47.313220, -17.319482],\n      icon: westjet,\n      iconSize: [40, 25],\n    };\n  },\n  methods: {\n    latLng: function (lat, lng) {\n\n      return [lat, lng]\n    },\n    getLocation: function () {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition((position) => {\n          var latitude = position.coords.latitude;\n          var longitude = position.coords.longitude;\n          this.center = [latitude, longitude]\n        });\n      }\n    },\n    getPrice: async function (destination) {\n\n      let accesscode = \"YYC\"+ destination\n      let price_value = \"Unavailable\"\n      console.log(accesscode)\n\n      const axios = require('axios');\n\n      const params = new URLSearchParams();\n      params.append('o', 'YYC');\n      console.log(destination)\n      params.append('d', destination);\n      params.append('sourceCountryCode', 'CA');\n      params.append('rangeStartOffset', '30');\n      params.append('rangeEndOffset', '60');\n      params.append('iwe', '1');\n      params.append('iwe', '2');\n      params.append('iwe', '3');\n      params.append('iwe', '4');\n      params.append('iwe', '5');\n\n      const response = await axios.get('https://api.westjet.com/price-points/v1/retail', {\n        params: params,\n        headers: {\n          'accept': 'application/json'\n        }\n      }).then(response => console.log(response))\n        \n\n      // console.log(price_value)\n      // let price_value = response.data[accesscode][0].price\n      // console.log(price_value)\n      // return price_value\n\n      \n    },\n  },\n  mounted() {\n    this.getLocation()\n\n  },\n};\n</script>\n  \n<style>\n.leaflet-container {\n  border-radius: 25px;\n}\n</style>\n\n    \n    "]},"metadata":{},"sourceType":"module","externalDependencies":[]}